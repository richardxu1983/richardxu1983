<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Richardxu1983</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-07-28T13:06:14.715Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Richardxu1983</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>UGUI的图片打包</title>
    <link href="http://yoursite.com/2017/07/28/20170728-code/"/>
    <id>http://yoursite.com/2017/07/28/20170728-code/</id>
    <published>2017-07-28T12:48:30.000Z</published>
    <updated>2017-07-28T13:06:14.715Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要参考了<a href="http://www.xuanyusong.com/archives/3304" target="_blank" rel="external">UGUI研究院之全面理解图集与使用（三）</a>的讲解，感谢雨松老师</p>
<h3 id="为什么要打包？"><a href="#为什么要打包？" class="headerlink" title="为什么要打包？"></a>为什么要打包？</h3><p>图片打包之后可以降低draw call</p>
<h3 id="如何打开UGUI的图片打包？"><a href="#如何打开UGUI的图片打包？" class="headerlink" title="如何打开UGUI的图片打包？"></a>如何打开UGUI的图片打包？</h3><p>UGUI的图片打包( sprite packer )默认是关闭的，Unity在默认的情况下会自动判断项目内的图片数量多少，当过多的时候会自动打包，其目的是为了模糊图片打包这件事，让开发者不要关注图片打包而专注于设计</p>
<p>我们可以手动打开：<br>Editor-&gt;Project Settings 选择 sprite packer 下的 Mode 的 <strong>Always Enabled</strong></p>
<h3 id="如何使用UGUI的图片打包？"><a href="#如何使用UGUI的图片打包？" class="headerlink" title="如何使用UGUI的图片打包？"></a>如何使用UGUI的图片打包？</h3><p>首先，将要打包成为一个图集里的图片的 packing tag 填写为同一个字符串<br>然后点击Windows-&gt;Sprite Packer，在打包图集的窗口里，点击Packer，就可以看到打包的结果了<br><strong>注意你的图片不能放在Resources文件夹下面，Resources文件夹下的资源将不会被打入图集</strong></p>
<h3 id="打包了的图集去了哪里？"><a href="#打包了的图集去了哪里？" class="headerlink" title="打包了的图集去了哪里？"></a>打包了的图集去了哪里？</h3><p>它保存在和Assets文件夹同级的目录，Libary/AtlasCache里面。你不用管它，也不要删除它，就算你删除了也没用因为只要你打包，它就会生成并且会打到包中</p>
<h3 id="如何动态创建图集里的图片？"><a href="#如何动态创建图集里的图片？" class="headerlink" title="如何动态创建图集里的图片？"></a>如何动态创建图集里的图片？</h3><p>思路：把所有小图关联在prefab上，拷贝在Resources文件夹下，这样运行时就能用Resources.load<br>首先：在菜单里做一个工具<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">[MenuItem (&quot;MyMenu/AtlasMaker&quot;)]</div><div class="line">static private void MakeAtlas()</div><div class="line">&#123;</div><div class="line">	string spriteDir = Application.dataPath +&quot;/Resources/Sprite&quot;;</div><div class="line">	</div><div class="line">	if(!Directory.Exists(spriteDir))&#123;</div><div class="line">		Directory.CreateDirectory(spriteDir);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	DirectoryInfo rootDirInfo = new DirectoryInfo (Application.dataPath +&quot;/Atlas&quot;);</div><div class="line">	foreach (DirectoryInfo dirInfo in rootDirInfo.GetDirectories()) &#123;</div><div class="line">		foreach (FileInfo pngFile in dirInfo.GetFiles(&quot;*.png&quot;,SearchOption.AllDirectories)) &#123;</div><div class="line">			string allPath = pngFile.FullName;</div><div class="line">			string assetPath = allPath.Substring(allPath.IndexOf(&quot;Assets&quot;));</div><div class="line">			Sprite sprite = Resources.LoadAssetAtPath&lt;Sprite&gt;(assetPath);</div><div class="line">			GameObject go = new GameObject(sprite.name);</div><div class="line">			go.AddComponent&lt;SpriteRenderer&gt;().sprite = sprite;</div><div class="line">			 allPath = spriteDir+&quot;/&quot;+sprite.name+&quot;.prefab&quot;;</div><div class="line">			string prefabPath = allPath.Substring(allPath.IndexOf(&quot;Assets&quot;));</div><div class="line">			PrefabUtility.CreatePrefab(prefabPath,go);</div><div class="line">			GameObject.DestroyImmediate(go);</div><div class="line">		&#125;</div><div class="line">	&#125;	</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>然后，在Resources目录下创建Sprite目录，并且在Assets目录下创建Atlas<br>把需要打包到图集里的图片放到Atlas里，点工具按钮，然后在Resources/Sprite里就会生成prefab了<br>如何使用呢？<br>这样就行了：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">private Sprite loadSprite(string spriteName)&#123;</div><div class="line">	return Resources.Load&lt;GameObject&gt;(&quot;Sprite/&quot; + spriteName).GetComponent&lt;SpriteRenderer&gt;().sprite;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要参考了&lt;a href=&quot;http://www.xuanyusong.com/archives/3304&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;UGUI研究院之全面理解图集与使用（三）&lt;/a&gt;的讲解，感谢雨松老师&lt;/p&gt;
&lt;h3 id=&quot;为什
    
    </summary>
    
      <category term="code" scheme="http://yoursite.com/categories/code/"/>
    
    
      <category term="unity" scheme="http://yoursite.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>即将抱娃的随想</title>
    <link href="http://yoursite.com/2017/07/23/20170723/"/>
    <id>http://yoursite.com/2017/07/23/20170723/</id>
    <published>2017-07-23T12:58:48.000Z</published>
    <updated>2017-07-23T13:03:29.735Z</updated>
    
    <content type="html"><![CDATA[<p>还有2周娃就要出生了<br>心中有不少忐忑与担心<br>但有更多的期待与希望</p>
<p>我未来的孩儿啊<br>爸爸有好多好多的事情要告诉你</p>
<p>但爸爸没法一下全部告诉你<br>就让岁月慢慢教会爸爸怎样作爸爸<br>让爸爸慢慢教会你如何学习生活</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;还有2周娃就要出生了&lt;br&gt;心中有不少忐忑与担心&lt;br&gt;但有更多的期待与希望&lt;/p&gt;
&lt;p&gt;我未来的孩儿啊&lt;br&gt;爸爸有好多好多的事情要告诉你&lt;/p&gt;
&lt;p&gt;但爸爸没法一下全部告诉你&lt;br&gt;就让岁月慢慢教会爸爸怎样作爸爸&lt;br&gt;让爸爸慢慢教会你如何学习生活&lt;/p&gt;

    
    </summary>
    
      <category term="story" scheme="http://yoursite.com/categories/story/"/>
    
    
  </entry>
  
  <entry>
    <title>Unity2d的几个注意点</title>
    <link href="http://yoursite.com/2017/07/16/blog-2017-7-16-code/"/>
    <id>http://yoursite.com/2017/07/16/blog-2017-7-16-code/</id>
    <published>2017-07-16T00:07:59.000Z</published>
    <updated>2017-07-16T00:16:39.189Z</updated>
    
    <content type="html"><![CDATA[<p>如果开发的是复古像素风格的2D游戏，那么最好要进行以下设置：</p>
<h3 id="关闭各向异性和抗锯齿"><a href="#关闭各向异性和抗锯齿" class="headerlink" title="关闭各向异性和抗锯齿"></a>关闭各向异性和抗锯齿</h3><p>Edit-&gt;Project Settings-&gt;Quality:</p>
<ul>
<li>关闭Anisotropic textures</li>
<li>关闭Anti Aliasing</li>
</ul>
<h3 id="图片的Filter-Mode"><a href="#图片的Filter-Mode" class="headerlink" title="图片的Filter Mode"></a>图片的Filter Mode</h3><ul>
<li>Point</li>
</ul>
<h3 id="Pixel-snap"><a href="#Pixel-snap" class="headerlink" title="Pixel snap"></a>Pixel snap</h3><ul>
<li>通过创建一个使用Sprite/Default着色器的自定义材质，并附加到SpriteRenderer，勾选该着色器的Pixel snap属性。</li>
</ul>
<h3 id="相机距离"><a href="#相机距离" class="headerlink" title="相机距离"></a>相机距离</h3><ul>
<li>每个世界空间的单元的像素数 = 纵向分辨率/ ( 相机距离（orthograpgic的size） * 2 )<br>这个像素数必须是PPU（pixel per unit）的整数倍</li>
</ul>
<p><code>举例：768 / ( size * 2 ) = x * PPU，x必须为整数
size = 768(/x*PPU*2)
if PPU=16
size = 24/x，如果x为整数，那么size=24,12,8,6....</code></p>
<h3 id="关闭vSync"><a href="#关闭vSync" class="headerlink" title="关闭vSync"></a>关闭vSync</h3><ul>
<li>QualitySettings.vSyncCount = 0;</li>
<li>Application.targetFrameRate = 60;</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;如果开发的是复古像素风格的2D游戏，那么最好要进行以下设置：&lt;/p&gt;
&lt;h3 id=&quot;关闭各向异性和抗锯齿&quot;&gt;&lt;a href=&quot;#关闭各向异性和抗锯齿&quot; class=&quot;headerlink&quot; title=&quot;关闭各向异性和抗锯齿&quot;&gt;&lt;/a&gt;关闭各向异性和抗锯齿&lt;/h3&gt;&lt;p&gt;
    
    </summary>
    
      <category term="code" scheme="http://yoursite.com/categories/code/"/>
    
    
      <category term="unity" scheme="http://yoursite.com/tags/unity/"/>
    
  </entry>
  
  <entry>
    <title>hexo+github</title>
    <link href="http://yoursite.com/2017/07/15/blog/"/>
    <id>http://yoursite.com/2017/07/15/blog/</id>
    <published>2017-07-15T12:35:59.000Z</published>
    <updated>2017-07-16T04:47:55.714Z</updated>
    
    <content type="html"><![CDATA[<p>经过一番纠结，最终决定好好把github主页给搞起来。<br>毕竟这是最大的编程、分享（同性）网站不是么。<br>权衡再三，决定使用hexo生成静态博客页面，看看效果如何吧。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;经过一番纠结，最终决定好好把github主页给搞起来。&lt;br&gt;毕竟这是最大的编程、分享（同性）网站不是么。&lt;br&gt;权衡再三，决定使用hexo生成静态博客页面，看看效果如何吧。&lt;/p&gt;

    
    </summary>
    
      <category term="story" scheme="http://yoursite.com/categories/story/"/>
    
    
  </entry>
  
</feed>
