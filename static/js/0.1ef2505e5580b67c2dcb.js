webpackJsonp([0],{"+E39":function(t,e,n){t.exports=!n("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+ZMJ":function(t,e,n){var r=n("lOnJ");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,a){return t.call(e,n,r,a)}}return function(){return t.apply(e,arguments)}}},"+tPU":function(t,e,n){n("xGkn");for(var r=n("7KvD"),a=n("hJx8"),i=n("/bQp"),o=n("dSzd")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=r[u],f=l&&l.prototype;f&&!f[o]&&a(f,o,u),i[u]=i.Array}},"/0XD":function(t,e){},"/bQp":function(t,e){t.exports={}},"/n6Q":function(t,e,n){n("zQR9"),n("+tPU"),t.exports=n("Kh4W").f("iterator")},"06OY":function(t,e,n){var r=n("3Eo+")("meta"),a=n("EqjI"),i=n("D2L2"),o=n("evD5").f,s=0,c=Object.isExtensible||function(){return!0},u=!n("S82l")(function(){return c(Object.preventExtensions({}))}),l=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return u&&f.NEED&&c(t)&&!i(t,r)&&l(t),t}}},"0Rr5":function(t,e){},"1kS7":function(t,e){e.f=Object.getOwnPropertySymbols},"2rjF":function(t,e,n){"use strict";var r=n("pFYg"),a=n.n(r),i=n("Zx67"),o=n.n(i),s=n("zwoO"),c=n.n(s),u=n("Pf15"),l=n.n(u),f=n("Zrlr"),p=n.n(f),d=n("wxAW"),v=n.n(d),h=n("9WJG"),_=n("wFRd"),y=n("EH2R"),m=n("PKMK"),g=n("fxuB"),k=n("uXnN").a.data,b=h.a.StateManager,w=_.a.Fight,x=y.a.Weapon,S=g.a.wp,E=m.a.SKL,P=function(){function t(e,n){p()(this,t),this.attr={name:e.name||"",hp:{value:e.hp||0,max:e.maxhp||0},mp:{value:e.mp||0,max:e.mp||0},str:{value:e.str||0},def:{value:e.def||0},agi:{value:e.agi||0},spd:{value:e.spd||0},gold:{value:e.gold||0},pos:{value:e.pos||0}},this.sk=[],this.skf=[],this.skd={},this.skSlot=[];for(var r=0;r<15;r++)this.skSlot[r]=[];this.idx=2,this.target=null,this.fpos=0,this.mcd=0,this.fEnter=0,this.weapon=new x(void 0==n||-1==n?0:n),this.idx=S[this.weapon.id].idx}return v()(t,[{key:"addSkToFight",value:function(t){if(void 0!=E[t]&&!this.skf.includes(t)){this.skf.push(t),this.skd[t]={cd:-100,ct:0};var e=E[t].tg;this.skSlot[e].push(t),this.onadSTF(t)}}},{key:"initSk",value:function(){var t,e,n;for(t=0,e=this.skf.length;t<e;t++)n=this.skf[t],this.skd[n]={cd:-100,ct:0}}},{key:"onadSTF",value:function(t){}},{key:"hp",value:function(){return this.getAttr("hp")}},{key:"wpName",value:function(){return S[this.weapon.id].name}},{key:"getAttr",value:function(t){return this.attr[t].value}},{key:"name",value:function(){return this.attr.name}},{key:"fightName",value:function(){return this.attr.name}},{key:"getAtkIdx",value:function(){return this.idx}},{key:"setAtkIdx",value:function(t){this.idx=t}},{key:"atkDis",value:function(){return S[this.weapon.id].atkDis}},{key:"getAspd",value:function(){return S[this.weapon.id].aspd}},{key:"getAtk",value:function(){return Math.ceil(S[this.weapon.id].atk*(1+this.attr[S[this.weapon.id].ka].value*S[this.weapon.id].kaa))}},{key:"damage",value:function(t){var e=this.hp();return(e-=t)<=0?(e=0,this.setAttr("hp",e),-1):(this.setAttr("hp",e),1)}},{key:"addAttr",value:function(t,e){var n=this.getAttr(t)+e;this.setAttr(t,n)}},{key:"setAttr",value:function(t,e){var n=e,r=this.getAttrMax(t),a=this.getAttrMin(t);n<0&&(n=0),void 0!=r&&r>0&&n>r&&(n=r),void 0!=a&&a>0&&n<r&&(n=r),this.attr[t].value=n,this.onSetAttr(t,n)}},{key:"atkWord",value:function(){return S[this.weapon.id].atkWord}},{key:"getAttrMax",value:function(t){this.attr[t];return this.attr[t].max}},{key:"getAttrMin",value:function(t){this.attr[t];return this.attr[t].min}},{key:"startAtkWrd",value:function(){return S[this.weapon.id].startWrd}},{key:"equipWp",value:function(t){0==w.over&&(this.weapon=new x(t),this.idx=S[this.weapon.id].idx,this.onEqWp(t))}},{key:"unEquipWp",value:function(){0==w.over&&(this.weapon=new x(0),this.idx=S[this.weapon.id].idx,this.onEqWp(0))}},{key:"fight",value:function(t){0==w.over&&w.start(this,t)}},{key:"arriveAt",value:function(t){A.setAttr("pos",t)}},{key:"onEqWp",value:function(t){}},{key:"onUnEqWp",value:function(){}},{key:"onSetAttr",value:function(t,e){}}]),t}(),O=function(t){function e(t,n){return p()(this,e),c()(this,(e.__proto__||o()(e)).call(this,t,n))}return l()(e,t),v()(e,[{key:"onSetAttr",value:function(t,e){b.set("player."+t,e)}},{key:"onadSTF",value:function(t){b.setArray("player.skf",t)}},{key:"onEqWp",value:function(t){b.set("player.weapon",t)}},{key:"onUnEqWp",value:function(){b.set("player.weapon",void 0)}},{key:"fightName",value:function(){return"[ "+this.attr.name+" ]"}},{key:"load",value:function(t){var e;for(e in this.attr)"object"==a()(this.attr[e])&&(this.attr[e].value=this.getAttr(e));var n,r,i=b.get("player.weapon");if(void 0!=i?this.equipWp(i):this.equipWp(0),this.skf=[],void 0!=t&&void 0!=t["player.skf"])for(n=0,r=t["player.skf"].length;n<r;n++)this.skf[n]=t["player.skf"][n]}},{key:"getAttr",value:function(t){void 0==b.get("player."+t)&&(void 0!=this.attr[t]?b.set("player."+t,k.plyInit[t]):b.set("player."+t,0));return b.get("player."+t)}}]),e}(P),A=(function(t){function e(t,n,r,a,i,s){p()(this,e);var u=c()(this,(e.__proto__||o()(e)).call(this,t,s));return u.id=n,u.belong=a,u.placeId=r,u.type=i,u}l()(e,t)}(P),new O(k.plyInit,0));e.a={Player:A,Unit:P}},"3Eo+":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},"40Tq":function(t,e){},"4mcu":function(t,e){t.exports=function(){}},"52gC":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"5QVw":function(t,e,n){t.exports={default:n("BwfY"),__esModule:!0}},"64vP":function(t,e){},"77Pl":function(t,e,n){var r=n("EqjI");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},"7KvD":function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"7UMu":function(t,e,n){var r=n("R9M2");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"880/":function(t,e,n){t.exports=n("hJx8")},"94VQ":function(t,e,n){"use strict";var r=n("Yobk"),a=n("X8DO"),i=n("e6n0"),o={};n("hJx8")(o,n("dSzd")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(o,{next:a(1,n)}),i(t,e+" Iterator")}},"9WJG":function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1__mlGame_core_unit_js__=__webpack_require__("2rjF"),__WEBPACK_IMPORTED_MODULE_2__mlGame_core_gTime_js__=__webpack_require__("B3SJ"),$ti=__WEBPACK_IMPORTED_MODULE_2__mlGame_core_gTime_js__.a.gtime,StateManager={MAX_STORE:99999999999999,createState:function(t,e){for(var n=t.split(/[.\[\]'"]+/),r=0;r<n.length;r++)""==n[r]&&(n.splice(r,1),r--);for(var a=State,i=null,o=(r=0,n.length-1);r<o;r++)void 0===a[i=n[r]]&&(a[i]={}),a=a[i];return a[n[r]]=e,a},set:function set(stateName,value,noEvent){var fullPath=$SM.buildPath(stateName);try{eval("("+fullPath+") = value")}catch(t){$SM.createState(stateName,value)}Engine.saveGame()},setArray:function(t,e){void 0==State[t]&&(State[t]=[]),State[t].push(e),Engine.saveGame()},get:function get(stateName,requestZero){var whichState=null,fullPath=$SM.buildPath(stateName);try{eval("whichState = ("+fullPath+")")}catch(t){whichState=void 0}return whichState&&whichState!={}||!requestZero?whichState:0},buildPath:function(t){return"State"+("["==t.charAt(0)?"":".")+t}},$SM=StateManager,State={},Engine={ready:!1,saveGame:function(){"undefined"!=typeof Storage&&localStorage&&(null!=Engine._saveTimer&&clearTimeout(Engine._saveTimer),(void 0===Engine._lastNotify||Date.now()-Engine._lastNotify>Engine.SAVE_DISPLAY)&&(Engine._lastNotify=Date.now()),localStorage.gameState=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(State))},loadGame:function(){try{var t=JSON.parse(localStorage.gameState);t&&(State=t)}catch(t){State={},$SM.set("version",Engine.VERSION)}$ti.load(),__WEBPACK_IMPORTED_MODULE_1__mlGame_core_unit_js__.a.Player.load(State)},newGame:function(){State={},localStorage.gameState=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(State),$SM.set("version",Engine.VERSION),$ti.reSet(),__WEBPACK_IMPORTED_MODULE_1__mlGame_core_unit_js__.a.Player.load()}},info={txt:{v:"",last:""},addInfo:function(t){var e=document.getElementById("info");if(!e.hasChildNodes()){var n=document.createElement("label");e.appendChild(n);var r=document.createTextNode(t);n.appendChild(r),n.style.opacity=1,n.style.transition="opacity 1s",n.addEventListener("webkitTransitionEnd",function(){document.getElementById("info").removeChild(n)}),setTimeout(function(){n.style.opacity=0},1e3)}}};__webpack_exports__.a={Engine:Engine,StateManager:StateManager,info:info,State:State}},"9bBU":function(t,e,n){n("mClu");var r=n("FeBl").Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},B3SJ:function(t,e,n){"use strict";var r=n("mvHQ"),a=n.n(r),i={day:600,hour:8},o={init:function(){i.day=1,i.hour=8,o.set()},addHour:function(t){i.hour=i.hour+t;var e=Math.floor(i.hour/24);e>0&&(i.hour=i.hour%24,i.day=i.day+e),o.set()},load:function(){try{var t=JSON.parse(localStorage.gameTime);t&&(i.day=t.day,i.hour=t.hour)}catch(t){o.init()}},reSet:function(){o.init()},set:function(){localStorage.gameTime=a()(i)}};e.a={gtime:o,gT:i}},BwfY:function(t,e,n){n("fWfb"),n("M6a0"),n("OYls"),n("QWe/"),t.exports=n("FeBl").Symbol},C4MV:function(t,e,n){t.exports={default:n("9bBU"),__esModule:!0}},D2L2:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},EGZi:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},EH2R:function(t,e,n){"use strict";e.a={Weapon:function(t){this.id=t},wpType:["无","匕首","弓箭"],wpL:["无","把","把"],wpQ:["劣质的","普通的","精致的"]}},EqjI:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},FeBl:function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},Ffad:function(t,e){},Ibhu:function(t,e,n){var r=n("D2L2"),a=n("TcQ7"),i=n("vFc/")(!1),o=n("ax3d")("IE_PROTO");t.exports=function(t,e){var n,s=a(t),c=0,u=[];for(n in s)n!=o&&r(s,n)&&u.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~i(u,n)||u.push(n));return u}},Kh4W:function(t,e,n){e.f=n("dSzd")},Kh5d:function(t,e,n){var r=n("sB3e"),a=n("PzxK");n("uqUo")("getPrototypeOf",function(){return function(t){return a(r(t))}})},LKZe:function(t,e,n){var r=n("NpIQ"),a=n("X8DO"),i=n("TcQ7"),o=n("MmMw"),s=n("D2L2"),c=n("SfB7"),u=Object.getOwnPropertyDescriptor;e.f=n("+E39")?u:function(t,e){if(t=i(t),e=o(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return a(!r.f.call(t,e),t[e])}},M6a0:function(t,e){},MU5D:function(t,e,n){var r=n("R9M2");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},MmMw:function(t,e,n){var r=n("EqjI");t.exports=function(t,e){if(!r(t))return t;var n,a;if(e&&"function"==typeof(n=t.toString)&&!r(a=n.call(t)))return a;if("function"==typeof(n=t.valueOf)&&!r(a=n.call(t)))return a;if(!e&&"function"==typeof(n=t.toString)&&!r(a=n.call(t)))return a;throw TypeError("Can't convert object to primitive value")}},NpIQ:function(t,e){e.f={}.propertyIsEnumerable},O4g8:function(t,e){t.exports=!0},ON07:function(t,e,n){var r=n("EqjI"),a=n("7KvD").document,i=r(a)&&r(a.createElement);t.exports=function(t){return i?a.createElement(t):{}}},OYls:function(t,e,n){n("crlp")("asyncIterator")},OvRC:function(t,e,n){t.exports={default:n("oM7Q"),__esModule:!0}},PKMK:function(t,e,n){"use strict";e.a={SKL:[{id:0,name:"闪避",tg:5,ac:3,cd:3,fc:75,chance:10,nd:0,wp:0,oac:-1,dt1:0,dt2:0},{id:1,name:"后跳",tg:4,ac:1,cd:16,fc:100,chance:100,nd:2,wp:0,oac:-1,dt1:8,dt2:15},{id:2,name:"瞬步",tg:4,ac:5,cd:16,fc:80,chance:10,nd:1,wp:0,oac:-1,dt1:15,dt2:2},{id:3,name:"重击",tg:2,ac:4,cd:3,fc:80,chance:30,nd:0,wp:0,oac:-1,dt1:2,dt2:0},{id:4,name:"快速攻击",tg:7,ac:6,cd:3,fc:100,chance:100,nd:0,wp:0,oac:1,dt1:1,dt2:0}],AC:[{id:0,name:"扑倒",str:""},{id:1,name:"后跳",str:"向后跳走"},{id:2,name:"推开",str:""},{id:3,name:"躲闪",str:"躲过了这次攻击"},{id:4,name:"重击",str:"产生了重击效果!!"},{id:5,name:"瞬移靠近",str:"迅速靠近"},{id:6,name:"快速攻击",str:"发动了一次快速攻击"}]}},Pf15:function(t,e,n){"use strict";e.__esModule=!0;var r=o(n("kiBT")),a=o(n("OvRC")),i=o(n("pFYg"));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,i.default)(e)));t.prototype=(0,a.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},PzxK:function(t,e,n){var r=n("D2L2"),a=n("sB3e"),i=n("ax3d")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=a(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},QRG4:function(t,e,n){var r=n("UuGF"),a=Math.min;t.exports=function(t){return t>0?a(r(t),9007199254740991):0}},"QWe/":function(t,e,n){n("crlp")("observable")},R9M2:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},RPLV:function(t,e,n){var r=n("7KvD").document;t.exports=r&&r.documentElement},Rrel:function(t,e,n){var r=n("TcQ7"),a=n("n0T6").f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==i.call(t)?function(t){try{return a(t)}catch(t){return o.slice()}}(t):a(r(t))}},S82l:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},SfB7:function(t,e,n){t.exports=!n("+E39")&&!n("S82l")(function(){return 7!=Object.defineProperty(n("ON07")("div"),"a",{get:function(){return 7}}).a})},TcQ7:function(t,e,n){var r=n("MU5D"),a=n("52gC");t.exports=function(t){return r(a(t))}},UuGF:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},X8DO:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},Xc4G:function(t,e,n){var r=n("lktj"),a=n("1kS7"),i=n("NpIQ");t.exports=function(t){var e=r(t),n=a.f;if(n)for(var o,s=n(t),c=i.f,u=0;s.length>u;)c.call(t,o=s[u++])&&e.push(o);return e}},Yobk:function(t,e,n){var r=n("77Pl"),a=n("qio6"),i=n("xnc9"),o=n("ax3d")("IE_PROTO"),s=function(){},c=function(){var t,e=n("ON07")("iframe"),r=i.length;for(e.style.display="none",n("RPLV").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[o]=t):n=c(),void 0===e?n:a(n,e)}},ZaQb:function(t,e,n){var r=n("EqjI"),a=n("77Pl"),i=function(t,e){if(a(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n("+ZMJ")(Function.call,n("LKZe").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},Zrlr:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},Zx67:function(t,e,n){t.exports={default:n("fS6E"),__esModule:!0}},Zzip:function(t,e,n){t.exports={default:n("/n6Q"),__esModule:!0}},ax3d:function(t,e,n){var r=n("e8AB")("keys"),a=n("3Eo+");t.exports=function(t){return r[t]||(r[t]=a(t))}},crlp:function(t,e,n){var r=n("7KvD"),a=n("FeBl"),i=n("O4g8"),o=n("Kh4W"),s=n("evD5").f;t.exports=function(t){var e=a.Symbol||(a.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},dSzd:function(t,e,n){var r=n("e8AB")("wks"),a=n("3Eo+"),i=n("7KvD").Symbol,o="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=o&&i[t]||(o?i:a)("Symbol."+t))}).store=r},e6n0:function(t,e,n){var r=n("evD5").f,a=n("D2L2"),i=n("dSzd")("toStringTag");t.exports=function(t,e,n){t&&!a(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},e8AB:function(t,e,n){var r=n("FeBl"),a=n("7KvD"),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("O4g8")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},evD5:function(t,e,n){var r=n("77Pl"),a=n("SfB7"),i=n("MmMw"),o=Object.defineProperty;e.f=n("+E39")?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),a)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},exh5:function(t,e,n){var r=n("kM2E");r(r.S,"Object",{setPrototypeOf:n("ZaQb").set})},fS6E:function(t,e,n){n("Kh5d"),t.exports=n("FeBl").Object.getPrototypeOf},fWfb:function(t,e,n){"use strict";var r=n("7KvD"),a=n("D2L2"),i=n("+E39"),o=n("kM2E"),s=n("880/"),c=n("06OY").KEY,u=n("S82l"),l=n("e8AB"),f=n("e6n0"),p=n("3Eo+"),d=n("dSzd"),v=n("Kh4W"),h=n("crlp"),_=n("Xc4G"),y=n("7UMu"),m=n("77Pl"),g=n("EqjI"),k=n("TcQ7"),b=n("MmMw"),w=n("X8DO"),x=n("Yobk"),S=n("Rrel"),E=n("LKZe"),P=n("evD5"),O=n("lktj"),A=E.f,C=P.f,M=S.f,I=r.Symbol,D=r.JSON,T=D&&D.stringify,N=d("_hidden"),j=d("toPrimitive"),B={}.propertyIsEnumerable,W=l("symbol-registry"),F=l("symbols"),L=l("op-symbols"),G=Object.prototype,R="function"==typeof I,q=r.QObject,K=!q||!q.prototype||!q.prototype.findChild,U=i&&u(function(){return 7!=x(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=A(G,e);r&&delete G[e],C(t,e,n),r&&t!==G&&C(G,e,r)}:C,Q=function(t){var e=F[t]=x(I.prototype);return e._k=t,e},V=R&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},J=function(t,e,n){return t===G&&J(L,e,n),m(t),e=b(e,!0),m(n),a(F,e)?(n.enumerable?(a(t,N)&&t[N][e]&&(t[N][e]=!1),n=x(n,{enumerable:w(0,!1)})):(a(t,N)||C(t,N,w(1,{})),t[N][e]=!0),U(t,e,n)):C(t,e,n)},$=function(t,e){m(t);for(var n,r=_(e=k(e)),a=0,i=r.length;i>a;)J(t,n=r[a++],e[n]);return t},z=function(t){var e=B.call(this,t=b(t,!0));return!(this===G&&a(F,t)&&!a(L,t))&&(!(e||!a(this,t)||!a(F,t)||a(this,N)&&this[N][t])||e)},H=function(t,e){if(t=k(t),e=b(e,!0),t!==G||!a(F,e)||a(L,e)){var n=A(t,e);return!n||!a(F,e)||a(t,N)&&t[N][e]||(n.enumerable=!0),n}},Y=function(t){for(var e,n=M(k(t)),r=[],i=0;n.length>i;)a(F,e=n[i++])||e==N||e==c||r.push(e);return r},Z=function(t){for(var e,n=t===G,r=M(n?L:k(t)),i=[],o=0;r.length>o;)!a(F,e=r[o++])||n&&!a(G,e)||i.push(F[e]);return i};R||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(L,n),a(this,N)&&a(this[N],t)&&(this[N][t]=!1),U(this,t,w(1,n))};return i&&K&&U(G,t,{configurable:!0,set:e}),Q(t)}).prototype,"toString",function(){return this._k}),E.f=H,P.f=J,n("n0T6").f=S.f=Y,n("NpIQ").f=z,n("1kS7").f=Z,i&&!n("O4g8")&&s(G,"propertyIsEnumerable",z,!0),v.f=function(t){return Q(d(t))}),o(o.G+o.W+o.F*!R,{Symbol:I});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;X.length>tt;)d(X[tt++]);for(var et=O(d.store),nt=0;et.length>nt;)h(et[nt++]);o(o.S+o.F*!R,"Symbol",{for:function(t){return a(W,t+="")?W[t]:W[t]=I(t)},keyFor:function(t){if(!V(t))throw TypeError(t+" is not a symbol!");for(var e in W)if(W[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),o(o.S+o.F*!R,"Object",{create:function(t,e){return void 0===e?x(t):$(x(t),e)},defineProperty:J,defineProperties:$,getOwnPropertyDescriptor:H,getOwnPropertyNames:Y,getOwnPropertySymbols:Z}),D&&o(o.S+o.F*(!R||u(function(){var t=I();return"[null]"!=T([t])||"{}"!=T({a:t})||"{}"!=T(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],a=1;arguments.length>a;)r.push(arguments[a++]);if(n=e=r[1],(g(e)||void 0!==t)&&!V(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!V(e))return e}),r[1]=e,T.apply(D,r)}}),I.prototype[j]||n("hJx8")(I.prototype,j,I.prototype.valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},fkB2:function(t,e,n){var r=n("UuGF"),a=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?a(t+e,0):i(t,e)}},fso9:function(t,e){},fxuB:function(t,e,n){"use strict";e.a={wp:[{id:0,type:0,quality:0,name:"拳头",rg:!1,startWrd:"",atkWord:"出拳攻击",atkDis:2,idx:2,aspd:2,atk:5,ka:"str",kaa:.02},{id:1,type:1,quality:0,name:"匕首",rg:!1,startWrd:"",atkWord:"挥动匕首，刺了出去",atkDis:2,idx:2,aspd:2,atk:25,ka:"str",kaa:.01},{id:2,type:2,quality:0,name:"弓箭",rg:!0,startWrd:"开始蓄力拉弓",atkWord:"射出了一箭",atkDis:50,idx:0,aspd:7,atk:20,ka:"str",kaa:.01}]}},h65t:function(t,e,n){var r=n("UuGF"),a=n("52gC");t.exports=function(t){return function(e,n){var i,o,s=String(a(e)),c=r(n),u=s.length;return c<0||c>=u?t?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(o=s.charCodeAt(c+1))<56320||o>57343?t?s.charAt(c):i:t?s.slice(c,c+2):o-56320+(i-55296<<10)+65536}}},hJx8:function(t,e,n){var r=n("evD5"),a=n("X8DO");t.exports=n("+E39")?function(t,e,n){return r.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},"i/C/":function(t,e,n){n("exh5"),t.exports=n("FeBl").Object.setPrototypeOf},kM2E:function(t,e,n){var r=n("7KvD"),a=n("FeBl"),i=n("+ZMJ"),o=n("hJx8"),s=n("D2L2"),c=function(t,e,n){var u,l,f,p=t&c.F,d=t&c.G,v=t&c.S,h=t&c.P,_=t&c.B,y=t&c.W,m=d?a:a[e]||(a[e]={}),g=m.prototype,k=d?r:v?r[e]:(r[e]||{}).prototype;for(u in d&&(n=e),n)(l=!p&&k&&void 0!==k[u])&&s(m,u)||(f=l?k[u]:n[u],m[u]=d&&"function"!=typeof k[u]?n[u]:_&&l?i(f,r):y&&k[u]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):h&&"function"==typeof f?i(Function.call,f):f,h&&((m.virtual||(m.virtual={}))[u]=f,t&c.R&&g&&!g[u]&&o(g,u,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},kiBT:function(t,e,n){t.exports={default:n("i/C/"),__esModule:!0}},lOnJ:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},lktj:function(t,e,n){var r=n("Ibhu"),a=n("xnc9");t.exports=Object.keys||function(t){return r(t,a)}},lzXd:function(t,e){},mClu:function(t,e,n){var r=n("kM2E");r(r.S+r.F*!n("+E39"),"Object",{defineProperty:n("evD5").f})},mvHQ:function(t,e,n){t.exports={default:n("qkKv"),__esModule:!0}},n0T6:function(t,e,n){var r=n("Ibhu"),a=n("xnc9").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,a)}},oM7Q:function(t,e,n){n("sF+V");var r=n("FeBl").Object;t.exports=function(t,e){return r.create(t,e)}},pFYg:function(t,e,n){"use strict";e.__esModule=!0;var r=o(n("Zzip")),a=o(n("5QVw")),i="function"==typeof a.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t};function o(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof a.default&&"symbol"===i(r.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":void 0===t?"undefined":i(t)}},qio6:function(t,e,n){var r=n("evD5"),a=n("77Pl"),i=n("lktj");t.exports=n("+E39")?Object.defineProperties:function(t,e){a(t);for(var n,o=i(e),s=o.length,c=0;s>c;)r.f(t,n=o[c++],e[n]);return t}},qkKv:function(t,e,n){var r=n("FeBl"),a=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},sB3e:function(t,e,n){var r=n("52gC");t.exports=function(t){return Object(r(t))}},"sF+V":function(t,e,n){var r=n("kM2E");r(r.S,"Object",{create:n("Yobk")})},tY3V:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("2rjF"),a=n("9WJG"),i=[];i[0]={id:0,name:"守望村",type:1,dist:0,pos:{x:100,y:100},place:[{id:0},{id:1},{id:2},{id:3}],act:[0,1,2,3],to:[1,2,3],passerby:[0,1,2],passerbyProb:[.1,.3,.4]},i[1]={id:1,name:"野猪林",type:1,dist:0,pos:{x:100,y:98},place:[],act:[0,1,2],to:[0]},i[2]={id:2,name:"守望农场",type:1,dist:0,pos:{x:102,y:100},place:[],act:[0,1,2],to:[0]},i[3]={id:3,name:"南部荒野",type:1,dist:0,pos:{x:100,y:103},place:[],act:[0,1,2],to:[0]};var o={AreaData:i},s=o.AreaData;var c={Gmap:{pickPsby:function(t){for(var e,n=Math.random(),r=-1,a=0,i=s[t].passerbyProb.length;a<i;a++){if(n<(e=s[t].passerbyProb[a])){r=a;break}n-=e}return r>=0?s[t].passerby[r]:-1}}},u=n("PKMK").a.SKL,l=r.a.Player,f={name:"plyAttrPnl",data:function(){return{player:l}},computed:{wpName:function(){return this.player.wpName()},skName:function(){var t,e,n="";for(t=0,e=this.player.skf.length;t<e;t++)n=n+"[ "+u[this.player.skf[t]].name+" ] , ";return""==n&&(n="无"),n}},methods:{close:function(){this.$emit("closeplyAttrPnl")},opWp:function(){this.$emit("opWp")}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"md bd"}),t._v(" "),n("div",{staticClass:"box bframe"},[n("h1",{staticClass:"pn"},[t._v(t._s(t.player.attr.name))]),t._v(" "),n("p",[t._v("拥有金币："+t._s(t.player.attr.gold.value))]),t._v(" "),n("div",{staticClass:"cel"},[n("p",[t._v("生命："+t._s(t.player.attr.hp.value))]),t._v(" "),n("p",[t._v("法力："+t._s(t.player.attr.mp.value))]),t._v(" "),n("p",[t._v("强壮："+t._s(t.player.attr.str.value))]),t._v(" "),n("p",[t._v("敏捷："+t._s(t.player.attr.agi.value))]),t._v(" "),n("p",[t._v("防御力："+t._s(t.player.attr.def.value))]),t._v(" "),n("p",[t._v("战斗移动速度："+t._s(t.player.attr.spd.value)+"米/秒")])]),t._v(" "),n("div",{staticClass:"cel"},[n("p",[t._v("武器："),n("label",{staticClass:"lk",on:{click:t.opWp}},[t._v("[ "+t._s(t.wpName)+" ]")])]),t._v(" "),n("p",[t._v("战斗使用技能："+t._s(t.skName))])]),t._v(" "),n("button",{staticClass:"close",on:{click:t.close}},[t._v("关闭")])])])},staticRenderFns:[]};var d=n("VU/8")(f,p,!1,function(t){n("fso9")},"data-v-0189b62b",null).exports,v=n("wFRd"),h=(r.a.Player,v.a.Fight);function _(t){return t>=.8?"#00FF33":t>=.4?"orange":"red"}var y={name:"fightPnl",data:function(){return{showClose:h.showClose,fight:h,info:h.info,show:h.showPnl}},computed:{left:function(){return this.fight.left.attr},dis:function(){return this.fight.absDis()},plyhpw:function(){return Math.floor(this.left.hp.value/this.left.hp.max*130)},plyhpc:function(){return _(this.left.hp.value/this.left.hp.max)},enmhpc:function(){return _(this.fight.right.hp()/this.fight.right.getAttrMax("hp"))},enmhpw:function(){return Math.floor(this.fight.right.hp()/this.fight.right.getAttrMax("hp")*130)},lftN:function(){return this.fight.left.name()},rgtN:function(){return this.fight.right.name()}},methods:{close:function(){h.close()}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show.v?n("div",[n("div",{staticClass:"md bd"}),t._v(" "),n("div",{staticClass:"fp bframe"},[n("div",{staticClass:"top"},[n("div",{staticClass:"ply nameTag"},[n("div",{staticClass:"right"},[t._v(t._s(t.lftN))])]),t._v(" "),n("div",{staticClass:"hp1 plyhp hpbar"}),t._v(" "),n("div",{staticClass:"plyhp hpbar",style:{width:t.plyhpw+"px","background-color":t.plyhpc}}),t._v(" "),n("div",{staticClass:"vs"},[t._v("对阵")]),t._v(" "),n("div",{staticClass:"hp1 enmhp hpbar"}),t._v(" "),n("div",{staticClass:"enmhp hpbar",style:{width:t.enmhpw+"px","background-color":t.enmhpc}}),t._v(" "),n("div",{staticClass:"enm nameTag"},[n("div",{staticClass:"left"},[t._v(t._s(t.rgtN))])])]),t._v(" "),n("div",{staticClass:"dis"},[t._v("双方距离："+t._s(t.dis)+"米")]),t._v(" "),n("textarea",{staticClass:"msg",attrs:{name:"",id:"ftMsg",rows:"17",readonly:""}},[t._v(t._s(t.info.v))]),t._v(" "),t.showClose.v?n("button",{staticClass:"close",on:{click:t.close}},[t._v("关闭")]):t._e()])]):t._e()},staticRenderFns:[]};var g=n("VU/8")(y,m,!1,function(t){n("Ffad")},"data-v-d9269554",null).exports,k=n("EH2R"),b=n("fxuB").a.wp,w=r.a.Player,x={str:"强壮",agi:"敏捷"},S={name:"wpDesc",data:function(){return{wp:w.weapon,ply:w.attr}},computed:{n:function(){return b[this.wp.id].name},atk:function(){return b[this.wp.id].atk},ka:function(){return x[b[this.wp.id].ka]},kaa:function(){return 100*b[this.wp.id].kaa},dis:function(){return b[this.wp.id].atkDis},aspd:function(){return.5*b[this.wp.id].aspd},add:function(){return Math.ceil(b[this.wp.id].atk*(1+this.ply[b[this.wp.id].ka].value*b[this.wp.id].kaa))-b[this.wp.id].atk},rg:function(){return b[this.wp.id].rg?"远程武器":"近程武器"}},methods:{close:function(){this.$emit("clsWp")}}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bx bframe"},[n("h2",[t._v("[ "+t._s(t.n)+" ]")]),t._v(" "),n("p",[t._v("- "+t._s(t.rg)+" -")]),t._v(" "),n("p",[t._v("攻击力："),n("b",[t._v(t._s(t.atk)+"+"),n("label",{staticClass:"add"},[t._v(t._s(t.add))])])]),t._v(" "),n("p",[t._v("主要属性："+t._s(t.ka)+"（每点"+t._s(t.ka)+"提升 "+t._s(t.kaa)+"% 攻击力）")]),t._v(" "),n("p",[t._v("攻击距离："+t._s(t.dis)+" 米")]),t._v(" "),n("p",[t._v("攻击速度：每 "+t._s(t.aspd)+" 秒攻击一次")]),t._v(" "),n("button",{staticClass:"close",on:{click:t.close}},[t._v("关闭")])])},staticRenderFns:[]};var P=n("VU/8")(S,E,!1,function(t){n("40Tq")},"data-v-410933b9",null).exports,O=n("B3SJ"),A=n("uXnN"),C=[];C[0]=[],C[0][0]=[{w:"你好",once:!1},{w:"打扰了",once:!1}],C[0][1]=[{w:"请问，你知道恶龙在哪里吗",once:!0},{w:"请问，你知道哪里有旅馆吗",once:!0},{w:"我没问题了，再见",once:!1}],C[0][2]=[{w:"太感谢了，我还有个问题",once:!1},{w:"非常感谢，再见了，我的朋友",once:!1}],C[0][3]=[{w:"好吧，我还有个问题",once:!1},{w:"好吧，那再见了",once:!1}];var M=[];M[0]=[],M[0][0]={expr:"友善地看着你",t:0},M[0][1]={expr:"担心的眼神",dlg:["你要去找恶龙吗？这太危险了。让我想想...","听说恶龙在北边的幽暗城，你也许应该问问酒馆老板。"],i:"(关于恶龙，也许要去问问旅馆老板？)",t:2},M[0][2]={expr:"友善地看着你",dlg:["镇中心就有酒馆，叫“最后的酒馆”，很容易找"],i:"(唔，酒馆在镇中心么...)",t:2},M[0][3]={expr:"友善地看着你",dlg:["什么问题？"],t:1},M[0][4]={expr:"友善地看着你",dlg:["你好"],t:1},M[0][5]={expr:"挥了挥手",dlg:["再见"],t:-1},M[1]=[],M[1][0]={expr:"面无表情地",t:0},M[1][1]={expr:"面无表情地",dlg:["恶龙？那只是传说吧，我不知道在哪里。"],t:3},M[1][2]={expr:"面无表情地",dlg:["有个叫“最后的酒馆”的，在镇中心"],t:3},M[1][3]={expr:"面无表情地",dlg:["什么问题？"],t:1},M[1][4]={expr:"面无表情地",dlg:["你好"],t:1},M[1][5]={expr:"挥了挥手",dlg:["再见"],t:-1},M[2]=[],M[2][0]={expr:"匆匆离开，没有看你一眼",t:-1};var I=[];I[0]={start:0,step:0,pair:{"00":4,"01":5,10:1,11:2,12:5,20:3,21:5}},I[1]={start:0,step:0,pair:{"00":4,"01":5,10:1,11:2,12:5,30:3,31:5}},I[2]={start:0,step:0,pair:{"00":0}};var D={npc:[{id:0,type:0,desc:"这人看起来破破烂烂的",wp:0,name:"路人",plyAsk:0,ans:0,dlg:0},{id:1,type:0,desc:"这人看起来破破烂烂的",wp:0,name:"路人",plyAsk:0,ans:1,dlg:1},{id:2,type:0,desc:"这人看起来破破烂烂的",wp:0,name:"路人",plyAsk:0,ans:2,dlg:2}],plyAsk:C,npcAns:M,npcDlg:I},T=a.a.info.addInfo,N=O.a.gtime,j=D.npc,B=D.plyAsk,W=D.npcAns,F=A.a.data,L={npcTalk:!1,npcId:-1,ntStep:-1,ntSeg:-1,ntIndex:-1,to:-1,plyId:-1,ansId:-1,ntInfo:"",dlg:-1,ntCtn:!1,psByEmot:"",plyOp:!1,plySaid:{}};function G(){var t=W[L.ansId][L.ntIndex].expr;t&&(L.psByEmot="["+t+"]")}var R={talkToPsby:function(t){var e=c.Gmap.pickPsby(t);e>=0?R.talk(e):(L.npcTalk=!0,L.npcId=-1,L.psByEmot=""),R.refreshCtn()},clear:function(){H.setAction(!1),L.npcTalk=!1,L.npcId=-1,L.ntInfo&&(T(L.ntInfo),L.ntInfo="")},talk:function(t){L.npcTalk=!0,L.npcId=t;var e=j[L.npcId].dlg;L.dlg=e,L.ntStep=0,L.ntSeg=0,L.plyId=j[L.npcId].plyAsk,L.ansId=j[L.npcId].ans,L.ntIndex=D.npcDlg[e].start,L.to=W[L.ansId][L.ntIndex].t,L.ntInfo="",L.plyOp=!1,L.plySaid={},N.addHour(F.npcTkTime),G()},refreshCtn:function(){if(L.npcId>=0){L.ntIndex;if(0==L.ntStep)return void(L.ntCtn=!0);if(1==B[L.plyId][L.to].length)return void(L.ntCtn=!0);L.ntCtn=!1}else L.plyOp=!1,L.ntCtn=!0},getDesc:function(){if(L.npcId>=0){var t=j[L.npcId].desc,e=j[L.npcId].wp;return t+=e<=0?"，没有装备什么武器":"，带了一"+WP.wpL[e]+WP.wpQ[$wp[e].quality]+"的"+WP.wpType[$wp[e].type]}return"附近没有什么人，也许过些时候来会有人。"},curName:function(){return L.npcTalk&&L.npcId>=0?j[L.npcId].name:""},clickOpt:function(t){L.ntIndex,L.plyId;var e=L.to+""+t,n=L.dlg;L.plySaid[e]=0,L.ntIndex=D.npcDlg[n].pair[e],L.ntStep=0,L.ntSeg=0,L.plyOp=!1,W[L.ansId][L.ntIndex].i&&(L.ntInfo=W[L.ansId][L.ntIndex].i),G(),R.refreshCtn()},segNext:function(){L.ntSeg+=1,R.refreshCtn()},StepNext:function(){0==L.ntStep&&(L.to=W[L.ansId][L.ntIndex].t,L.ntStep=1,L.plyOp=!0),R.refreshCtn()},onCtn:function(){if(L.npcId>=0){var t=L.ntIndex,e=L.ansId;if(W[L.ansId][L.ntIndex].t>=0)if(0==L.ntStep)if(W[e][t])if(W[e][t].dlg){var n=W[e][t].dlg.length;L.ntSeg+1<n?R.segNext():R.StepNext()}else R.StepNext();else R.StepNext();else 1==B[L.plyId][L.to].length&&R.clickOpt(0);else R.clear()}else R.clear()},plyOpt:function(){if(L.npcId>=0){var t=L.plyId,e=L.to;if(e>=0)return B[t][e]}},selPlyOp:function(t){var e=L.to,n=e+""+t;if(console.log("index="+n+" , actData.plySaid[index]="+L.plySaid[n]),void 0==L.plySaid[n])return!0;var r=L.plyId;return console.log("$ply[ply][to][i].once="+B[r][e][t].once),1!=B[r][e][t].once},npcAns:function(){if(L.npcId>=0){var t=L.ntIndex;if(W[L.ansId][t].dlg){var e=L.ntSeg;return"“"+W[L.ansId][L.ntIndex].dlg[e]+"”"}return""}}},q={npcTalk:R,actData:L},K=a.a.info.addInfo,U=r.a.Player,Q=O.a.gtime,V=o.AreaData,J=!1,$={areaGo:!1,area:-1,areaGoProc:!1,areaTo:-1},z={clear:function(){J=!1,$.areaGo=!1,$.area=-1,$.areaGoProc=!1,$.areaTo=-1},goto:function(){var t=V[$.area].pos.x,e=V[$.area].pos.y,n=V[$.areaTo].pos.x,r=V[$.areaTo].pos.y,a=Math.ceil(2*Math.sqrt((t-n)*(t-n)+(e-r)*(e-r)));Q.addHour(a),U.arriveAt($.areaTo),K(a+"个小时以后，我来到了"+V[$.areaTo].name),z.clear()},confirm:function(t){$.areaGoProc=!0,$.areaTo=t}};var H={areAct:[{id:0,name:"前往",t:0},{id:1,name:"休息一下",t:2},{id:2,name:"睡觉",t:8},{id:3,name:"找个路人",t:.5}],AreaDoAct:function(t,e){if(!J)switch(J=!0,t){case 0:$.areaGo=!0,$.area=e,$.areaGoProc=!1,$.areaTo=-1;break;case 3:q.npcTalk.talkToPsby(e);break;default:J=!1}},actData:$,areaGo:z,setAction:function(t){J=t}},Y=o.AreaData,Z=[{id:0,name:"守望镇",type:1,pros:50,pop:1e3,fr:20,publicSecurity:20,commerce:20,industry:20}],X=[{id:0,name:"商店"},{id:1,name:"驿站"},{id:2,name:"土地管理所"},{id:3,name:"旅店"}],tt=r.a.Player,et=H.areAct,nt={name:"area",data:function(){return{pos:tt.attr.pos}},computed:{plyPos:function(){return Y[this.pos.value].name},dist:function(){var t=Y[this.pos.value].dist;return t>=0?"（隶属于："+Z[t].name+"）":""},places:function(){return Y[this.pos.value].place},acts:function(){return Y[this.pos.value].act}},methods:{plName:function(t,e){return X[t].name},actName:function(t){return et[t].name},act:function(t){H.AreaDoAct(t,this.pos.value)}}},rt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mapPanel"},[n("div",[n("span",{staticClass:"title"},[n("b",[t._v("[ "+t._s(t.plyPos)+" ]")])])]),t._v(" "),n("div",{staticClass:"desc"},[t._v("\n\t\t这里看起来有些萧条，人们看起来不富裕，街上的人不多，来往的人们毫无表情地看着你。\n\t")]),t._v(" "),n("div",{staticClass:"plc"},t._l(t.places,function(e,r){return n("div",{key:e.id,staticClass:"plcBtn left nosel"},[t._v("\n\t\t\t"+t._s(t.plName(e.id,r))+"\n\t\t")])})),t._v(" "),n("div",{staticClass:"act"},[t._m(0),t._v(" "),t._l(t.acts,function(e){return n("div",{key:e,staticClass:"actBtn left nosel",on:{click:function(n){t.act(e)}}},[t._v("\n\t\t\t"+t._s(t.actName(e))+"\n\t\t")])})],2),t._v(" "),n("div")])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"subTitle"},[e("b",[this._v("行动")])])}]};var at=n("VU/8")(nt,rt,!1,function(t){n("64vP")},"data-v-178ed9c4",null).exports,it=A.a.data,ot=O.a.gT,st={name:"tiv",data:function(){return{ti:ot}},computed:{day:function(){return this.ti.day},h:function(){return this.ti.hour},remain:function(){return it.timeLimit-this.ti.day}},methods:{}},ct={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{},[e("div",[this._v("第 "+this._s(this.day)+" 天 "+this._s(Math.floor(this.h))+" 时  [  剩余："+this._s(this.remain)+"天  ]")])])},staticRenderFns:[]};var ut=n("VU/8")(st,ct,!1,function(t){n("0Rr5")},"data-v-6dc52ad4",null).exports,lt=o.AreaData,ft={name:"areaGo",data:function(){return{data:H.actData}},computed:{places:function(){return lt[this.data.area].to},tit:function(){return this.data.areaGoProc?"正在前往[ "+lt[this.data.areaTo].name+" ]":"请选择要去的地方..."}},methods:{plName:function(t){return lt[t].name},close:function(){H.areaGo.clear()},gotoArea:function(t){H.areaGo.confirm(t)},cti:function(t){var e=lt[this.data.area].pos.x,n=lt[this.data.area].pos.y,r=lt[t].pos.x,a=lt[t].pos.y;return Math.ceil(2*Math.sqrt((e-r)*(e-r)+(n-a)*(n-a)))},customAppearHook:function(){},customAfterAppearHook:function(){document.getElementById("procbar").style.transition="width 1500ms ease-out",document.getElementById("procbar").style.width="22em",document.getElementById("procbar").addEventListener("webkitTransitionEnd",function(){H.areaGo.goto()})}}},pt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.data.areaGo?n("div",[n("div",{staticClass:"md bd"}),t._v(" "),n("div",{staticClass:"mediumBox bframe"},[n("h2",[t._v(t._s(t.tit))]),t._v(" "),t.data.areaGoProc?t._e():n("div",[t._l(t.places,function(e){return n("div",{key:e},[n("ul",[n("li",{staticClass:"actBtn left nosel",on:{click:function(n){t.gotoArea(e)}}},[t._v(t._s(t.plName(e)))]),n("span",[t._v("耗时："+t._s(t.cti(e))+"小时")])])])}),t._v(" "),n("button",{staticClass:"close",on:{click:t.close}},[t._v("关闭")])],2),t._v(" "),t.data.areaGoProc?n("div",{staticClass:"proc"},[n("div",{staticClass:"baseBar bar"}),t._v(" "),n("transition",{attrs:{appear:""},on:{appear:t.customAppearHook,"after-appear":t.customAfterAppearHook}},[n("div",{staticClass:"procBar bar",attrs:{id:"procbar"}})])],1):t._e()])]):t._e()},staticRenderFns:[]};var dt=n("VU/8")(ft,pt,!1,function(t){n("lzXd")},"data-v-719f64f0",null).exports,vt=(k.a.wp,q.npcTalk),ht={name:"npcTalk",data:function(){return{data:q.actData}},computed:{npcName:function(){return vt.curName()},desc:function(){return vt.getDesc()},emot:function(){return this.data.psByEmot},opts:function(){return vt.plyOpt()},npcAns:function(){return vt.npcAns()}},methods:{clickOpt:function(t){vt.clickOpt(t)},contin:function(){vt.onCtn()},selPlyOp:function(t){return vt.selPlyOp(t)}}},_t={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.data.npcTalk?n("div",{},[n("div",{staticClass:"md bd"}),t._v(" "),n("div",{staticClass:"box bframe"},[n("h2",[t._v(t._s(t.npcName))]),t._v(" "),n("div",{staticClass:"psbBox"},[n("div",{staticClass:"desc green"},[t._v("["+t._s(t.desc)+"]")]),t._v(" "),n("div",{staticClass:"desc green"},[t._v(t._s(t.emot)),n("span",{staticClass:"black"},[t._v(t._s(t.npcAns))])]),t._v(" "),n("div",{staticClass:"desc green"})]),t._v(" "),t.data.plyOp?n("div",{staticClass:"plyOp"},[t._m(0),t._v(" "),t._l(t.opts,function(e,r){return t.selPlyOp(r)?n("div",{key:r,staticClass:"desc psbBox opt",on:{click:function(e){t.clickOpt(r)}}},[t._v("->“"+t._s(e.w)+"”")]):t._e()})],2):t._e(),t._v(" "),t.data.ntCtn?n("div",{staticClass:"ctn sayBlock opt",on:{click:t.contin}},[t._v("\n\t\t\t->继续<-\t\n\t\t")]):t._e()])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"desc"},[e("b",[this._v("你：")])])}]};var yt=n("VU/8")(ht,_t,!1,function(t){n("/0XD")},"data-v-44c06ab6",null).exports,mt=r.a.Player,gt=a.a.info.addInfo,kt={name:"gameView",data:function(){return{btnAttrTxt:"人物",player:mt.attr,plyAttrPnlShow:!1,wpDesc:!1,info:a.a.info.txt}},components:{plyAttrPnl:d,fightPnl:g,wpDesc:P,myArea:at,tiv:ut,areaGo:dt,ntk:yt},created:function(){},mounted:function(){a.a.Engine.loadGame()},methods:{oncloseplyAttrPnl:function(){this.plyAttrPnlShow=!this.plyAttrPnlShow},clsWp:function(){this.wpDesc=!1},opWp:function(){this.wpDesc=!0},test:function(){mt.addAttr("gold",1)},fight:function(){var t=new r.a.Unit({hp:300,maxhp:300,mp:0,str:20,def:0,agi:20,spd:1,name:"强盗"},1);mt.fight(t)},newGame:function(){a.a.Engine.newGame(),gt("重新开始了游戏...")},equipWp1:function(){mt.equipWp(1)},equipWp2:function(){mt.equipWp(2)},upEquip:function(){mt.unEquipWp(1)}}},bt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mlBoard"},[n("myArea"),t._v(" "),n("div",{staticClass:"topBar"},[n("tiv",{staticClass:"left"}),t._v(" "),n("div",{staticClass:"right"},[t._v("您拥有： "+t._s(t.player.gold.value)+" 金")])],1),t._v(" "),t.plyAttrPnlShow?n("plyAttrPnl",{on:{closeplyAttrPnl:t.oncloseplyAttrPnl,opWp:t.opWp}}):t._e(),t._v(" "),n("fightPnl"),t._v(" "),n("areaGo"),t._v(" "),n("ntk"),t._v(" "),t.wpDesc?n("wpDesc",{on:{clsWp:t.clsWp}}):t._e(),t._v(" "),n("div",{staticClass:"infoBox",attrs:{id:"info"}}),t._v(" "),n("div",{staticClass:"bottomBar"},[n("button",{staticClass:"left",on:{click:function(e){t.plyAttrPnlShow=!t.plyAttrPnlShow}}},[t._v(t._s(t.btnAttrTxt))]),t._v(" "),n("button",{staticClass:"left",on:{click:t.test}},[t._v("金币+1")]),t._v(" "),n("button",{staticClass:"left",on:{click:t.fight}},[t._v("战斗")]),t._v(" "),n("button",{staticClass:"left",on:{click:t.newGame}},[t._v("新游戏")]),t._v(" "),n("button",{staticClass:"left",on:{click:t.equipWp1}},[t._v("装备匕首")]),t._v(" "),n("button",{staticClass:"left",on:{click:t.equipWp2}},[t._v("装备弓箭")]),t._v(" "),n("button",{staticClass:"left",on:{click:t.upEquip}},[t._v("卸下武器")])])],1)},staticRenderFns:[]};var wt=n("VU/8")(kt,bt,!1,function(t){n("tv6T")},"data-v-cc7aac3c",null).exports,xt=A.a.data,St={name:"magicLand",components:{gameView:wt},data:function(){return{title:"苦逼屠龙记"}},computed:{desc:function(){return"苦逼屠龙记是老徐在小破站上做的第一个游戏，是一个关于一个勇敢的冒险者要在"+xt.timeLimit+"天以内恶龙手中拯救村庄的故事。"}},created:function(){document.title="苦逼屠龙记"}},Et={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bak"},[n("div",{staticClass:"title"},[n("h3",[t._v(t._s(t.title))]),t._v(" "),n("p",{staticClass:"d"},[t._v(t._s(t.desc))])]),t._v(" "),n("br"),t._v(" "),n("div",[n("gameView")],1)])},staticRenderFns:[]};var Pt=n("VU/8")(St,Et,!1,function(t){n("xFiw")},"data-v-011a2556",null);e.default=Pt.exports},tv6T:function(t,e){},uXnN:function(t,e,n){"use strict";e.a={data:{timeLimit:200,npcTkTime:.5,plyInit:{hp:50,maxhp:50,mp:20,str:20,def:0,agi:3,spd:1,gold:10,pos:0,name:"冒险者"}}}},uqUo:function(t,e,n){var r=n("kM2E"),a=n("FeBl"),i=n("S82l");t.exports=function(t,e){var n=(a.Object||{})[t]||Object[t],o={};o[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",o)}},"vFc/":function(t,e,n){var r=n("TcQ7"),a=n("QRG4"),i=n("fkB2");t.exports=function(t){return function(e,n,o){var s,c=r(e),u=a(c.length),l=i(o,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},"vIB/":function(t,e,n){"use strict";var r=n("O4g8"),a=n("kM2E"),i=n("880/"),o=n("hJx8"),s=n("/bQp"),c=n("94VQ"),u=n("e6n0"),l=n("PzxK"),f=n("dSzd")("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,v,h,_,y){c(n,e,v);var m,g,k,b=function(t){if(!p&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",x="values"==h,S=!1,E=t.prototype,P=E[f]||E["@@iterator"]||h&&E[h],O=P||b(h),A=h?x?b("entries"):O:void 0,C="Array"==e&&E.entries||P;if(C&&(k=l(C.call(new t)))!==Object.prototype&&k.next&&(u(k,w,!0),r||"function"==typeof k[f]||o(k,f,d)),x&&P&&"values"!==P.name&&(S=!0,O=function(){return P.call(this)}),r&&!y||!p&&!S&&E[f]||o(E,f,O),s[e]=O,s[w]=d,h)if(m={values:x?O:b("values"),keys:_?O:b("keys"),entries:A},y)for(g in m)g in E||i(E,g,m[g]);else a(a.P+a.F*(p||S),e,m);return m}},wFRd:function(t,e,n){"use strict";var r=n("9WJG"),a=n("PKMK"),i=n("fxuB").a.wp,o=r.a.info.addInfo,s=a.a.SKL,c=a.a.AC;function u(){var t=document.getElementById("ftMsg");t&&(t.scrollTop=t.scrollHeight)}function l(t){""!=t&&(_.info.v=_.info.v+(_.t/2).toFixed(1)+"秒 : "+t+"\n",u(),_.info.length>1e3&&_.info.slice(-500))}function f(t){return t.hp()<=0?(l(t.target.fightName()+"胜利了"),o(t.target.name()+"胜利了"),_.over=1,1):0}function p(t){var e=_.absDis();if(e>t.atkDis()){var n=t.target.fpos-t.fpos>=0?1:-1;t.fpos=e<=t.getAttr("spd")?t.fpos+n*t.atkDis():t.fpos+n*t.getAttr("spd"),0==t.mcd&&l(t.fightName()+"因为太远而无法攻击，于是向"+t.target.fightName()+"靠近。"),t.mcd++,t.mcd>=10&&(t.mcd=0)}_.dis=_.right.fpos-_.left.fpos}function d(t,e,n,r,a){var i,o,u,f,p=-1;for(i=0,o=e.skSlot[t].length;i<o;i++)if(f=e.skSlot[t][i],u=Math.floor(101*Math.random()),(7==t&&r==s[f].oac||7!=t)&&v(f,e,u)){switch(s[f].ac){case 1:if(_.absDis()<=s[f].dt2){e.skd[f].cd=_.t,e.skd[f].ct++;var h=e.target.fpos-e.fpos>=0?1:-1;e.fpos=e.fpos-h*s[f].dt1,_.dis=_.right.fpos-_.left.fpos,_.w=_.w+e.fightName()+"使出一招“"+s[f].name+"”，"+c[1].str,p=1}break;case 3:e.skd[f].cd=_.t,e.skd[f].ct++,a=0,_.w=_.w+"但"+e.fightName()+"使出一招“"+s[f].name+"”，"+c[3].str,p=3;break;case 4:e.skd[f].cd=_.t,e.skd[f].ct++,a*=s[f].dt1,_.w=_.w+c[4].str,p=4;break;case 5:if(_.absDis()>=s[f].dt2&&_.absDis()<=s[f].dt1){e.skd[f].cd=_.t,e.skd[f].ct++;h=e.target.fpos-e.fpos>=0?1:-1;e.fpos=e.target.fpos-h,_.dis=_.right.fpos-_.left.fpos,l(e.fightName()+"使出一招“"+s[f].name+"”，"+c[5].str+e.target.fightName()),p=5}break;case 6:_.absDis()<=e.atkDis()&&(e.skd[f].cd=_.t,e.skd[f].ct++,a=e.getAtk(),_.w=_.w+"，并且对"+e.target.fightName()+c[6].str+"，",a=d(2,e,1,-1,a),(a=d(5,e.target,1,-1,a))>0&&(e.target.damage(a),_.w=_.w+"造成了"+a+"的伤害。"),p=6)}break}return 0==n&&d(7,e,1,p,a),a}function v(t,e,n){var r=s[t].cd,a=e.weapon.id;return(r<0||r>0&&_.t-e.skd[t].cd>r)&&(n<s[t].chance||0==e.skd[t].ct&&s[t].fc>0&&n<s[t].fc)&&(0==s[t].nd||1==s[t].nd&&0==i[a].rg||2==s[t].nd&&1==i[a].rg)}function h(t){if(!(t.hp()<=0)){if(_.w="",d(4,t,0,-1,0),""!=_.w&&(l(_.w),_.w=""),_.absDis()<=t.atkDis())if(t.mcd=0,0==t.fEnter&&l(t.fightName()+"进入了攻击范围。"),t.fEnter=1,t.getAtkIdx()>=t.getAspd()){var e=0;e=function(t){var e=t.getAtk();return _.w=t.fightName()+"对"+t.target.fightName()+t.atkWord()+"，",e=d(2,t,0,-1,e)}(t),(e=d(5,t.target,0,-1,e))>0&&(t.target.damage(e),_.w=_.w+"造成了"+e+"的伤害。"),l(_.w),t.setAtkIdx(0)}else{if(0==t.getAtkIdx()){var n=t.startAtkWrd();""!=n&&l(t.fightName()+n+"。")}t.setAtkIdx(t.getAtkIdx()+1)}_.dis=_.right.fpos-_.left.fpos}}var _={left:null,right:null,fightTimer:0,info:{v:""},over:0,showClose:{v:!1},showPnl:{v:!1},dis:0,w:"",dmg:0,t:0,close:function(){clearInterval(_.fightTimer),_.target=null,_.left=null,_.right=null,_.info.v="",_.showPnl.v=!1,_.over=0},init:function(t,e){_.left=t,_.right=e,_.left.target=e,_.right.target=t,_.left.initSk(),_.right.initSk(),_.over=2,_.info.v="",_.left.fpos=0,_.right.fpos=20,_.showClose.v=!1,_.showPnl.v=!0,_.left.mcd=0,_.left.fEnter=0,_.right.mcd=0,_.right.fEnter=0,_.dis=_.right.fpos-_.left.fpos,_.t=0},absDis:function(){return _.dis=_.right.fpos-_.left.fpos,Math.abs(_.dis)},start:function(t,e){_.init(t,e),_.fightTimer=setInterval(_.step,350),l(_.left.fightName()+"与"+_.right.fightName()+"的战斗即将开始，双方距离："+_.absDis()+"米。"),o(_.left.name()+"与"+_.right.name()+"发生了争斗，胜利将鹿死谁手？")},step:function(){if(_.t++,1==_.over)u(),clearInterval(_.fightTimer),_.showClose.v=!0,_.over=0;else{if(1==f(_.left)||1==f(_.right))return;if(p(_.left),h(_.left),1==f(_.left)||1==f(_.right))return;p(_.right),h(_.right)}u()}};e.a={Fight:_}},wxAW:function(t,e,n){"use strict";e.__esModule=!0;var r,a=n("C4MV"),i=(r=a)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},xFiw:function(t,e){},xGkn:function(t,e,n){"use strict";var r=n("4mcu"),a=n("EGZi"),i=n("/bQp"),o=n("TcQ7");t.exports=n("vIB/")(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,a(1)):a(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},xnc9:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},zQR9:function(t,e,n){"use strict";var r=n("h65t")(!0);n("vIB/")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},zwoO:function(t,e,n){"use strict";e.__esModule=!0;var r,a=n("pFYg"),i=(r=a)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}}});
//# sourceMappingURL=0.1ef2505e5580b67c2dcb.js.map